webpackJsonp([20],{Mxik:function(e,t){},rSwo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("ZoQJ"),o={data:function(){return{selectedMerchant:"",detailDialogVisible:!1,addDialogVisible:!1,detailForm:{},addForm:{},tableData:[],detailTableData:[],formInline:{podName:null}}},mounted:function(){this.query()},methods:{query:function(){var e=this;this.$axios({methods:"get",url:"/pod/getPods",params:this.formInline}).then(function(t){e.tableData=t}).catch(function(e){})},onDetailClick:function(e){this.detailDialogVisible=!0,this.detailTableData=e.containers},onAddClick:function(){this.addDialogVisible=!0},handleAdd:function(){var e=this;this.$axios({methods:"get",url:"/pod/createpod",params:this.addForm}).then(function(t){e.addDialogVisible=!1,Object(l.b)("操作成功！",{type:"success"}),e.query()}).catch(function(e){Object(l.b)("操作失败！",{type:"error"})})},onDetailDelete:function(e){var t=this;this.$confirm("此操作将永久删除该服务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.podName;t.$axios.delete("/pod/deletepod?pdName="+a).then(function(e){Object(l.b)("操作成功！",{type:"success"}),t.query()}).catch(function(e){Object(l.b)("操作失败！",{type:"error"})})}).catch(function(){Object(l.a)("已取消删除！",{type:"info"})})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.formInline.podName,callback:function(t){e.$set(e.formInline,"podName",t)},expression:"formInline.podName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.query}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.onAddClick}},[e._v("创建")])],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:50,fixed:"",type:"index",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"podName",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phase",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hostIp",label:"运行节点IP",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startTime",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.onDetailClick(t.row)}}},[a("i",{staticClass:"el-icon-info"},[e._v("详情")])]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.onDetailDelete(t.row)}}},[a("i",{staticClass:"el-icon-delete"},[e._v("删除")])])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.detailTableData}},[a("el-table-column",{attrs:{prop:"image",label:"镜像",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reader",label:"状态"}})],1)],e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.detailDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailDialogVisible=!1}}},[e._v("确 定")])],1)],2),e._v(" "),a("el-dialog",{attrs:{title:"添加",visible:e.addDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Pod名称:"}},[a("el-input",{model:{value:e.addForm.podName,callback:function(t){e.$set(e.addForm,"podName",t)},expression:"addForm.podName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签key:"}},[a("el-input",{model:{value:e.addForm.labelkey,callback:function(t){e.$set(e.addForm,"labelkey",t)},expression:"addForm.labelkey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签value:"}},[a("el-input",{model:{value:e.addForm.labelvalue,callback:function(t){e.$set(e.addForm,"labelvalue",t)},expression:"addForm.labelvalue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"容器名称:"}},[a("el-input",{model:{value:e.addForm.containerName,callback:function(t){e.$set(e.addForm,"containerName",t)},expression:"addForm.containerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"镜像名称:"}},[a("el-input",{model:{value:e.addForm.imageName,callback:function(t){e.$set(e.addForm,"imageName",t)},expression:"addForm.imageName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"容器端口:"}},[a("el-input",{model:{value:e.addForm.containerPort,callback:function(t){e.$set(e.addForm,"containerPort",t)},expression:"addForm.containerPort"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleAdd()}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var n=a("VU/8")(o,i,!1,function(e){a("Mxik")},"data-v-2dc57c46",null);t.default=n.exports}});