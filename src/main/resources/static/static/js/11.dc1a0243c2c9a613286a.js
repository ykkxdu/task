webpackJsonp([11],{"22Hl":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("ZoQJ"),i={data:function(){return{selectedMerchant:"",detailDialogVisible:!1,addDialogVisible:!1,detailForm:{},addForm:{},tableData:[],formInline:{name:null}}},mounted:function(){this.query()},methods:{query:function(){var e=this;this.$axios({methods:"get",url:"/pod/getNameSpaces",params:this.formInline}).then(function(t){e.tableData=t}).catch(function(e){})},onDetailClick:function(e){var t=this;this.$axios({methods:"get",url:"/service/getAllInfo/"+e.name}).then(function(e){t.detailDialogVisible=!0;var a=e.apiVersion,l=e.state,i=e.metadata,o=e.spec,r=o.ports,n=o.clusterIP,s=i.namespace,d=null;r.length>0&&(d=r[0].port);var c={apiVersion:a,state:l,namespace:s,clusterIP:n,port:d};t.detailForm=c}).catch(function(e){})},onAddClick:function(){this.addDialogVisible=!0},handleAdd:function(){var e=this;this.$axios({methods:"get",url:"/service/createservice",params:this.addForm}).then(function(t){e.addDialogVisible=!1,Object(l.b)("操作成功！",{type:"success"}),e.query()}).catch(function(e){Object(l.b)("操作失败！",{type:"error"})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:50,fixed:"",type:"index",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"namespaceName",label:"空间名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"创建时间 ",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phase",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.onDetailClick(t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.detailDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"版本信息:"}},[a("el-tag",[e._v(e._s(e.detailForm.apiVersion))])],1),e._v(" "),a("el-form-item",{attrs:{label:"服务状态:"}},[a("el-tag",[e._v(e._s(e.detailForm.state))])],1),e._v(" "),a("el-form-item",{attrs:{label:"命令空间:"}},[a("el-tag",[e._v(e._s(e.detailForm.namespace)+"\n          ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"服务端口:"}},[a("el-tag",[e._v(e._s(e.detailForm.port))])],1),e._v(" "),a("el-form-item",{attrs:{label:"集群IP:"}},[a("el-tag",[e._v(e._s(e.detailForm.clusterIP))])],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.detailDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailDialogVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加",visible:e.addDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"服务名称:"}},[a("el-input",{model:{value:e.addForm.srName,callback:function(t){e.$set(e.addForm,"srName",t)},expression:"addForm.srName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择器key:"}},[a("el-input",{model:{value:e.addForm.lbkey,callback:function(t){e.$set(e.addForm,"lbkey",t)},expression:"addForm.lbkey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择器value:"}},[a("el-input",{model:{value:e.addForm.lbvalue,callback:function(t){e.$set(e.addForm,"lbvalue",t)},expression:"addForm.lbvalue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"容器端口:"}},[a("el-input",{model:{value:e.addForm.cnPort,callback:function(t){e.$set(e.addForm,"cnPort",t)},expression:"addForm.cnPort"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleAdd()}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(e){a("2CMh")},"data-v-af06cb92",null);t.default=r.exports},"2CMh":function(e,t){}});